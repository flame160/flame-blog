import{_ as n,c as a,a as l,V as s,o as p}from"./chunks/framework.2c88e6e5.js";const e="/flame-blog/img/guide/vitepress_npx_init.png",u=JSON.parse('{"title":"VitePress搭建","description":"","frontmatter":{},"headers":[],"relativePath":"guide/vitepress.md","filePath":"guide/vitepress.md"}'),o={name:"guide/vitepress.md"},t=s(`<h1 id="vitepress搭建" tabindex="-1">VitePress搭建 <a class="header-anchor" href="#vitepress搭建" aria-label="Permalink to &quot;VitePress搭建&quot;">​</a></h1><p><a href="https://zhuanlan.zhihu.com/p/402505562" target="_blank" rel="noreferrer">VitePress使用示例</a></p><h2 id="使用前提" tabindex="-1">使用前提 <a class="header-anchor" href="#使用前提" aria-label="Permalink to &quot;使用前提&quot;">​</a></h2><p>Vite 需要 <a href="https://nodejs.org/en/" target="_blank" rel="noreferrer">Node.js</a> 版本 14.18+，16+。然而，有些模板需要依赖更高的 Node 版本才能正常运行，当你的包管理器发出警告时，请注意升级你的 Node 版本。</p><h2 id="如何搭建" tabindex="-1">如何搭建 <a class="header-anchor" href="#如何搭建" aria-label="Permalink to &quot;如何搭建&quot;">​</a></h2><p><strong>1. 新建文件vitepress-starter</strong></p><p><strong>2. 使用你喜欢的包管理器进行初始化,将会创建一个package.json文件</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">yarn</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">init</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># npm init</span></span>
<span class="line"><span style="color:#FFCB6B;">yarn</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">init</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-y</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># npm init -y (-y免去确认)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>3. 将 VitePress 安装为本地依赖</strong>（已经不再推荐全局安装 VuePress：<strong>npm install -g vitpress</strong>）</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">yarn</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-D</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">vitepress</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># npm install --dev vitepress   --dev和-D作用相同，也可以使用pnpm</span></span>
<span class="line"><span style="color:#FFCB6B;">yarn</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-D</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">vitepress</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">vue</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 安装 VitePress 和 Vue 作为项目的开发依赖</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>没有yarn命令可以<a href="https://blog.csdn.net/weixin_40808668/article/details/122606543" target="_blank" rel="noreferrer">使用npm安装yarn</a>：</p></blockquote><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-g</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">yarn</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">#安装</span></span>
<span class="line"><span style="color:#FFCB6B;">yarn</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--version</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">#查看版本</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>没有pnpm命令可以<a href="https://blog.csdn.net/weixin_40808668/article/details/127248755" target="_blank" rel="noreferrer">使用npm安装pnpm</a>：</p></blockquote><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-g</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">pnpm</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">#安装</span></span>
<span class="line"><span style="color:#FFCB6B;">pnpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">config</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">set</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">registry</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://registry.npm.taobao.org/</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">#设置镜像源</span></span>
<span class="line"><span style="color:#FFCB6B;">pnpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">config</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">get</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">registry</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># 检查</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">pnpm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nodemon</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-g</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">#等价于npm i nodemon -g</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>4. 创建文档docs/index.md，配置package.json</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">&quot;scripts&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">&quot;docs:dev&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">vitepress dev docs</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">&quot;docs:build&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">vitepress build docs</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">&quot;docs:serve&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">vitepress serve docs</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>启动脚本docs:dev 键值可以自定义修改，此处是为了和一些项目中默认脚本中自带的 dev 区分开，都是等效于执行vitepress dev doc，根据docs下的所有.md/.html文件做一个项目的编译和打包。</p></div><p><strong>5. 本地启动服务器</strong></p><p>VitPress 会在<a href="./.html"> http://localhost:5173</a>启动一个热重载的开发服务器。</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">yarn</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docs:dev</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># npm run docs:dev  启动你的VitePress</span></span>
<span class="line"><span style="color:#FFCB6B;">yarn</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docs:build</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 或者：npm run docs:build  构建</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>6. 使用npx vitepress init初始化</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">vitepress</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">init</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 或者使用 pnpm。  pnpm exec vitepress init</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><img src="`+e+'" data-fancybox="gallery">',23),r=s(`<h2 id="基础配置文件介绍" tabindex="-1">基础配置文件介绍 <a class="header-anchor" href="#基础配置文件介绍" aria-label="Permalink to &quot;基础配置文件介绍&quot;">​</a></h2><p>VitePress 配置的配置文件.vitepress/config.js，VitePress的配置都在这个文件中设置。</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">.</span></span>
<span class="line"><span style="color:#A6ACCD;">├─ docs</span></span>
<span class="line"><span style="color:#A6ACCD;">│  ├─ .vitepress</span></span>
<span class="line"><span style="color:#A6ACCD;">│  │  └─ config.js</span></span>
<span class="line"><span style="color:#A6ACCD;">│  └─ index.md</span></span>
<span class="line"><span style="color:#A6ACCD;">└─ package.json</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>首页配置：</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">---</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># https://vitepress.dev/reference/default-theme-home-page</span></span>
<span class="line"><span style="color:#FFCB6B;">layout:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">home</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">hero:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">name:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">我的测试项目</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># text: &quot;测试&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">tagline:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">my</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">blog</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">actions:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">theme:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">brand</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#FFCB6B;">text:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">了解更多</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#FFCB6B;">link:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/markdown-examples</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">theme:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">alt</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#FFCB6B;">text:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">API</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Examples</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#FFCB6B;">link:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/api-examples</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">features:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">title:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Feature</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">A</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">icon:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">🚀</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">details:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Lorem</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ipsum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dolor</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sit</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">amet,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">consectetur</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">adipiscing</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">elit</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">title:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Feature</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">B</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">icon:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">🔨</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">details:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Lorem</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ipsum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dolor</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sit</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">amet,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">consectetur</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">adipiscing</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">elit</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">title:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Feature</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">C</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">icon:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">🌈</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">details:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Lorem</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ipsum</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dolor</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sit</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">amet,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">consectetur</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">adipiscing</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">elit</span></span>
<span class="line"><span style="color:#FFCB6B;">---</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h2 id="部署和示例" tabindex="-1">部署和示例 <a class="header-anchor" href="#部署和示例" aria-label="Permalink to &quot;部署和示例&quot;">​</a></h2><p>示例：<br><a href="https://xinlei3166.github.io/vitepress-demo/" target="_blank" rel="noreferrer">vitepress-demo</a>：<a href="https://github.com/xinlei3166/vitepress-demo" target="_blank" rel="noreferrer">https://github.com/xinlei3166/vitepress-demo</a></p><h2 id="问题" tabindex="-1">问题 <a class="header-anchor" href="#问题" aria-label="Permalink to &quot;问题&quot;">​</a></h2><ol><li>&quot;vitepress&quot; resolved to an ESM file. ESM file cannot be loaded by &quot;require&quot;. See <a href="https://vitejs.dev/guide/troubleshooting.html#this-package-is-esm-only" target="_blank" rel="noreferrer">https://vitejs.dev/guide/troubleshooting.html#this-package-is-esm-only</a> for more details. [plugin externalize-deps]</li></ol><p>解决方法：config.js改名为config.mjs</p><ul><li>adding &quot;type&quot;: &quot;module&quot; to the nearest package.json</li><li>renaming vite.config.js/vite.config.ts to vite.config.mjs/vite.config.mts</li></ul>`,11);function c(i,C,y,A,D,d){return p(),a("div",null,[t,l(" 虽然 vitePress 是热重载的，但是，「**所有对于 .vitepress/config.js 的修改，都要项目重新启动才会生效**」。 "),r])}const m=n(o,[["render",c]]);export{u as __pageData,m as default};
